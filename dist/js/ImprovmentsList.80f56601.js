(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ImprovmentsList"],{1603:function(t,s,e){},"16d6":function(t,s,e){"use strict";var a=e("1603"),r=e.n(a);r.a},6367:function(t,s,e){t.exports=e.p+"img/dislike.4efaee1d.svg"},"74a2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.current_user&&t.currentTab?e("div",{staticClass:"wrapper"},[e("div",{staticClass:"page__title"},[t._v("Улучшения")]),e("div",{staticClass:"profile__link",on:{click:function(s){return t.$router.push({name:"UserProfile"})}}}),t.currentTab?e("div",{staticClass:"page__tabs"},[t._l(t.tabs,(function(s,a){return["in_progress"!==s.value||"Житель"!==t.current_user.role?e("div",{key:s.value,staticClass:"page__tab-item",class:{active:t.currentTab.value===t.tabs[a].value},on:{click:function(e){t.currentTab=s}}},[t._v(t._s(s.title))]):t._e()]}))],2):t._e(),e("div",{staticClass:"improvments"},[t.chosenTasks.length||"created"!==t.currentTab.value?t._e():e("div",{staticClass:"no-items"},[t._m(0),e("div",{staticClass:"no-items__title"},[t._v("Предложи улучшение!")]),e("div",{staticClass:"no-items__subtitle"},[t._v("Этим ты поможешь улучшить наш край и упрочить свой лидерский статус")])]),t.chosenTasks.length||"in_progress"!==t.currentTab.value?t._e():e("div",{staticClass:"no-items"},[e("div",{staticClass:"no-items__title"},[t._v("У вас нет задач!")])]),t._l(t.chosenTasks,(function(t){return e("ImprovmentCard",{key:t.id,attrs:{task:t}})}))],2),e("button",{ref:"addButton",staticClass:"add-improvment-button",on:{click:t.createImprovment}})]):t._e()},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"no-items__icon"},[a("img",{attrs:{src:e("957f")}})])}],i=e("5530"),n=e("2f62"),c=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"imp-card",on:{click:function(s){return t.$router.push({name:"ImprovmentItem",params:{id:t.task.id}})}}},[a("div",{staticClass:"imp-card__status"},[t._v(t._s(t.task.status))]),a("div",{staticClass:"imp-card__name"},[t._v(t._s(t.task.title))]),a("div",{staticClass:"imp-card__rating"},[a("div",{staticClass:"imp-card__comments"},[a("img",{attrs:{src:e("c8e0")}}),t._v(t._s(t.task.response.length||0))]),a("div",{staticClass:"imp-card__likes"},[a("img",{attrs:{src:e("9f80")}}),t._v(t._s(t.task.likes))]),a("div",{staticClass:"imp-card__dislikes"},[a("img",{attrs:{src:e("6367")}}),t._v(t._s(t.task.dislikes))])]),a("div",{staticClass:"imp-card__address"},[a("img",{attrs:{src:e("db1d")}}),t._v(t._s(t.task.address))])])},o=[],l={name:"ImprovmentCard",props:["task"],data:function(){return{isLikeActive:0}}},u=l,_=(e("16d6"),e("2877")),d=Object(_["a"])(u,c,o,!1,null,null,null),v=d.exports,m={name:"Improvments",components:{ImprovmentCard:v},data:function(){return{currentTab:null,tabs:[{title:"Созданные мной",value:"created"},{title:"Решаю",value:"in_progress"},{title:"Все",value:"all"}]}},computed:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["tasks","user_tasks","in_progress_tasks","current_user"])),{},{chosenTasks:function(){return this.currentTab?"created"===this.currentTab.value?this.user_tasks:"in_progress"===this.currentTab.value?this.in_progress_tasks:"all"===this.currentTab.value?this.tasks:[]:[]}}),mounted:function(){this.currentTab=this.tabs[0];var t=this;document.querySelector(".container").addEventListener("scroll",(function(s){try{console.log(s.target.scrollTop,s.target.offsetHeight),t.$refs.addButton.style.top=s.target.scrollTop+s.target.offsetHeight-100+"px"}catch(e){return void console.log(e)}}))},methods:{createImprovment:function(){this.$router.push({name:"CreateImprovment"})}}},p=m,f=(e("ff99"),Object(_["a"])(p,a,r,!1,null,null,null));s["default"]=f.exports},"957f":function(t,s,e){t.exports=e.p+"img/lightning-black.e74fe275.svg"},"9f80":function(t,s,e){t.exports=e.p+"img/like.3576395a.svg"},af60:function(t,s,e){},c8e0:function(t,s,e){t.exports=e.p+"img/comment.721f4497.svg"},db1d:function(t,s,e){t.exports=e.p+"img/geo.3f16bdef.svg"},ff99:function(t,s,e){"use strict";var a=e("af60"),r=e.n(a);r.a}}]);
//# sourceMappingURL=ImprovmentsList.80f56601.js.map
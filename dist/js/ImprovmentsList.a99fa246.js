(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ImprovmentsList"],{1603:function(t,s,e){},"16d6":function(t,s,e){"use strict";var a=e("1603"),i=e.n(a);i.a},6367:function(t,s,e){t.exports=e.p+"img/dislike.c08c99cd.svg"},"74a2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.current_user&&t.currentTab?e("div",{staticClass:"wrapper"},[e("div",{staticClass:"page__title"},[t._v("Улучшения")]),e("div",{staticClass:"profile__link",on:{click:function(s){return t.$router.push({name:"UserProfile"})}}}),t.currentTab?e("div",{staticClass:"page__tabs"},[t._l(t.tabs,(function(s,a){return["in_progress"!==s.value||"Житель"!==t.current_user.role?e("div",{key:s.value,staticClass:"page__tab-item",class:{active:t.currentTab.value===t.tabs[a].value},on:{click:function(e){t.currentTab=s}}},[t._v(t._s(s.title))]):t._e()]}))],2):t._e(),e("div",{staticClass:"improvments"},[t.chosenTasks.length||"created"!==t.currentTab.value?t._e():e("div",{staticClass:"no-items"},[t._m(0),e("div",{staticClass:"no-items__title"},[t._v("Предложи улучшение!")]),e("div",{staticClass:"no-items__subtitle"},[t._v("Этим ты поможешь улучшить наш край и упрочить свой лидерский статус")])]),t.chosenTasks.length||"in_progress"!==t.currentTab.value?t._e():e("div",{staticClass:"no-items"},[e("div",{staticClass:"no-items__title"},[t._v("У вас нет задач!")])]),t._l(t.chosenTasks,(function(t){return e("ImprovmentCard",{key:t.id,attrs:{task:t}})}))],2),e("button",{ref:"addButton",staticClass:"add-improvment-button",on:{click:t.createImprovment}})]):t._e()},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"no-items__icon"},[a("img",{attrs:{src:e("957f")}})])}],r=e("5530"),n=e("2f62"),c=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"imp-card",on:{click:function(s){return t.$router.push({name:"ImprovmentItem",params:{id:t.task.id}})}}},[a("div",{staticClass:"imp-card__status"},[t._v(t._s(t.task.status))]),a("div",{staticClass:"imp-card__name"},[t._v(t._s(t.task.title))]),a("div",{staticClass:"imp-card__rating"},[a("div",{staticClass:"imp-card__comments"},[a("img",{attrs:{src:e("c8e0")}}),t._v(t._s(t.task.response.length||0))]),a("div",{staticClass:"imp-card__likes"},[a("img",{attrs:{src:e("9f80")}}),t._v(t._s(t.task.likes))]),a("div",{staticClass:"imp-card__dislikes"},[a("img",{attrs:{src:e("6367")}}),t._v(t._s(t.task.dislikes))])]),a("div",{staticClass:"imp-card__address"},[a("img",{attrs:{src:e("db1d")}}),t._v(t._s(t.task.address))])])},o=[],u={name:"ImprovmentCard",props:["task"],data:function(){return{isLikeActive:0}}},l=u,_=(e("16d6"),e("2877")),d=Object(_["a"])(l,c,o,!1,null,null,null),v=d.exports,m={name:"Improvments",components:{ImprovmentCard:v},data:function(){return{currentTab:null,tabs:[{title:"Созданные мной",value:"created"},{title:"Решаю",value:"in_progress"},{title:"Все",value:"all"}]}},computed:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["tasks","user_tasks","in_progress_tasks","current_user"])),{},{chosenTasks:function(){return this.currentTab?"created"===this.currentTab.value?this.user_tasks:"in_progress"===this.currentTab.value?this.in_progress_tasks:"all"===this.currentTab.value?this.tasks:[]:[]}}),mounted:function(){this.currentTab=this.tabs[0];var t=this.$refs.addButton;document.querySelector(".container").addEventListener("scroll",(function(s){try{var e=window.innerHeight<720?720-window.innerHeight:0;t.style.bottom=16-s.target.scrollTop+e+"px"}catch(a){return}}))},methods:{createImprovment:function(){this.$router.push({name:"CreateImprovment"})}}},p=m,f=(e("ff99"),Object(_["a"])(p,a,i,!1,null,null,null));s["default"]=f.exports},"957f":function(t,s,e){t.exports=e.p+"img/lightning-black.fd1b828c.svg"},"9f80":function(t,s,e){t.exports=e.p+"img/like.dfdda549.svg"},af60:function(t,s,e){},c8e0:function(t,s,e){t.exports=e.p+"img/comment.71b1882c.svg"},db1d:function(t,s,e){t.exports=e.p+"img/geo.7b39494c.svg"},ff99:function(t,s,e){"use strict";var a=e("af60"),i=e.n(a);i.a}}]);
//# sourceMappingURL=ImprovmentsList.a99fa246.js.map